import{r as t,h as e,H as i,g as n,c as a,f as o}from"./p-a23b3d3a.js";import"./p-112455b1.js";import"./p-db605274.js";import"./p-6005e86e.js";import{F as r,B as s,M as l,g as c}from"./p-1ef6431f.js";import"./p-e908516f.js";import"./p-a1835bb8.js";import{s as m,t as u}from"./p-bb447120.js";import{i as d,t as h}from"./p-6b1b37da.js";import"./p-a09dfd89.js";import"./p-161949df.js";import"./p-6a284815.js";import{P as p}from"./p-fd7bb08d.js";var v=function(t,e,i,n){var a,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(o<3?a(r):o>3?a(e,i,r):a(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r};const f=class{constructor(e){t(this,e)}connectedCallback(){setTimeout((()=>this.getFocusItem(this.menuItems[0]).focus()),100)}get menuItems(){return Array.from(this.el.shadowRoot.querySelectorAll("amp-contextual-menu-item"))}getFocusItem(t){if(t)return t.querySelector("button")||t}openMenuItemSubmenu(t){var e,i,n;null===(e=this.el.shadowRoot.querySelector(".contextual-menu__items--primary"))||void 0===e||e.classList.add("contextual-menu__items--has-active-submenu"),null===(n=null===(i=t.detail)||void 0===i?void 0:i.querySelector(".contextual-menu__items--nested"))||void 0===n||n.classList.add("contextual-menu__items--nested-active")}async closeMenuItemSubmenu(){var t,e;null===(t=this.el.shadowRoot.querySelector(".contextual-menu__items--primary"))||void 0===t||t.classList.remove("contextual-menu__items--has-active-submenu"),null===(e=this.el.shadowRoot.querySelector(".contextual-menu__items--nested-active"))||void 0===e||e.classList.remove("contextual-menu__items--nested-active")}handleItemBlur(t){var e,i;const n=null===(e=t.detail)||void 0===e?void 0:e.target,a=null===(i=t.detail)||void 0===i?void 0:i.relatedTarget;if(!this.menuItems.some((t=>{var e;return null===(e=t.querySelector("button"))||void 0===e?void 0:e.contains(a)}))){if(0===this.menuItems.length)return;const t=this.getFocusItem(this.menuItems[0]),e=this.getFocusItem(this.menuItems[this.menuItems.length-1]);n===t?setTimeout((()=>e.focus()),0):setTimeout((()=>t.focus()),0)}}render(){var t;return e(i,{class:"contextual-menu-overlay"},e("amp-contextual-menu-scrim",null),e("ul",{class:"contextual-menu__items contextual-menu__items--primary"},null===(t=this.config)||void 0===t?void 0:t.items.map((t=>e("amp-contextual-menu-item",{item:t})))))}get el(){return n(this)}};v([r],f.prototype,"el",void 0),v([s()],f.prototype,"handleItemBlur",null),f.style=':host{display:block}.contextual-menu{width:100%;height:100%;box-sizing:border-box;position:fixed;z-index:var(--ctxmenu-z-index, 5);transform:translate3d(0, 0, 0);font-family:SF Pro Text, Helvetica Neue, Helvetica, Arial, sans-serif;transition:opacity 0.2s linear}.contextual-menu::before{content:"";position:absolute;top:var(--menu-tail-top-offset-minimum, 50px);right:var(--menu-tail-right-offset-minimum, 34px);border-width:0 7px 7px;border-style:solid;border-color:transparent transparent var(--videoEmbedMenuBg);opacity:var(--menu-tail-opactiy, 0)}:host(.minimum) .contextual-menu{--menu-tail-top-offset-minimum:30px;--menu-tail-right-offset-minimum:15px}.contextual-menu[aria-hidden=true]{opacity:0;pointer-events:none}.contextual-menu__items{padding:0;min-width:var(--ctxmenu-item-min-width, 240px);display:block;position:fixed;z-index:5;top:var(--ctxmenu-top);bottom:var(--ctxmenu-bottom);left:var(--ctxmenu-left, 0);border-radius:6px;background-color:var(--ctxmenu-item-bg, var(--ctxmenuBgColor));box-shadow:0 2px 10px rgba(0, 0, 0, 0.08);transition:opacity 0.1s ease, 0.2s transform ease}.contextual-menu__items[aria-hidden=true]{opacity:0;pointer-events:none}@media (max-width: 480px){.contextual-menu__items{width:calc(100% - 50px);min-width:unset;max-height:90vh;top:auto !important;bottom:25px;left:25px !important}}@media (max-width: 480px){.contextual-menu__items--has-active-submenu{transform:translateX(-100vw)}}.contextual-menu__items--nested{max-width:0;visibility:hidden;overflow:hidden;position:absolute;top:var(--ctxmenu-submenu-top, auto);right:var(--ctxmenu-submenu-right);bottom:var(--ctxmenu-submenu-bottom);left:var(--ctxmenu-submenu-left, auto);opacity:0;pointer-events:none}@media (min-width: 481px){.contextual-menu__items--nested .contextual-menu__item button[data-focus-method=key]:focus+{max-width:unset;visibility:visible;overflow:visible;opacity:1;pointer-events:unset}}@media (min-width: 481px) and (hover: hover){.contextual-menu__item:hover .contextual-menu__items--nested{max-width:unset;visibility:visible;overflow:visible;opacity:1;pointer-events:unset}}@media (max-width: 480px){.contextual-menu__items--nested{width:100%;max-width:unset;overflow:visible;position:fixed;top:auto !important;bottom:0;left:0 !important;transform:translateX(100%);opacity:0;pointer-events:unset}}.contextual-menu__items--has-active-submenu .contextual-menu__items--nested-active{visibility:visible;overflow:visible;opacity:1}@media (max-width: 480px){.contextual-menu__items--has-active-submenu .contextual-menu__items--nested-active{transform:translateX(100vw)}}.hidden-input{position:absolute;z-index:-1;opacity:0;pointer-events:none}ul,li{margin:0;padding:0;list-style-type:none}';var b=function(t,e,i,n){var a,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(o<3?a(r):o>3?a(e,i,r):a(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r};const x=class{constructor(e){t(this,e),this.contextualMenuItemSubMenuClose=a(this,"contextualMenuItemSubMenuClose",7),this.isOpen=!1}handleConfigChange(){this.createMenu()}componentWillLoad(){this.createMenu()}async disconnectedCallback(){await this.reset()}get triggerButton(){return this.el.querySelector(".contextual-menu__trigger")}getFocusItem(t){return t.querySelector("button")||t}async handleKeyDown(t){"Escape"===t.key&&this.isOpen&&await this.reset()}open(t){this.isOpen=!0,this.appendMenu(null==t?void 0:t.clientX,null==t?void 0:t.clientY)}appendMenu(t,e){var i,n,a;const o=null===(n=null===(i=this.config)||void 0===i?void 0:i.items)||void 0===n?void 0:n.length;null===(a=this.menu)||void 0===a||a.setAttribute("style",((t,e,i)=>{const n=window.innerWidth-t>250,a=window.innerHeight-e>40*(i+1),o=a?`--ctxmenu-top:${e}px;`:`--ctxmenu-bottom:${window.innerHeight-e}px;`,r=t<250||window.innerWidth-t>500;return[n?`--ctxmenu-left:${t}px;`:`--ctxmenu-left:${t-250}px;`,o,n&&!r?"--ctxmenu-submenu-right: 100%;":"--ctxmenu-submenu-left: 100%;",a?"--ctxmenu-submenu-top: 0px":"--ctxmenu-submenu-bottom: 0px"].join(" ")})(t,e,o)),document.body.appendChild(this.menu)}createMenu(){this.menu=document.createElement("amp-contextual-menu"),this.menu.config=this.config}async reset(){if(!this.isOpen)return;this.isOpen=!1;const t=document.body.querySelector("amp-contextual-menu");t&&(this.contextualMenuItemSubMenuClose.emit(),document.body.removeChild(t)),this.getFocusItem(this.triggerButton).focus()}render(){return e(i,null,e("button",{class:"contextual-menu__trigger",onClick:this.open},e("slot",{name:"trigger-content"})))}get el(){return n(this)}static get watchers(){return{config:["handleConfigChange"]}}};b([r],x.prototype,"el",void 0),b([s()],x.prototype,"open",null),b([s()],x.prototype,"reset",null),x.style=".contextual-menu__trigger{margin:0;padding:0;display:inline-block;border:0;background-color:transparent;outline:none;cursor:pointer;-webkit-appearance:none;appearance:none;font-family:inherit;font-size:inherit;line-height:inherit;transition:opacity 0.1s ease-in;opacity:var(--ctxmenu-triger-opacity, 1);cursor:pointer}.contextual-menu__trigger::-moz-focus-inner{border:0}";const g=(t,e)=>t.reduce(((t,i,n,a)=>{var o,r,s;const l=null===location||void 0===location?void 0:location.hostname,c=!(null==l?void 0:l.includes("music.apple.com"))||(null===(o=l.match(/^([^.]+)/)[0])||void 0===o?void 0:o.includes("replay"));return t.push({text:null===(r=null==i?void 0:i.attributes)||void 0===r?void 0:r.name,url:null===(s=null==i?void 0:i.attributes)||void 0===s?void 0:s.url,target:c?"_blank":void 0}),e&&n<a.length-1&&t.push({text:e}),t}),[]),y=async(t,e)=>{var i,n;const a=null!==(i=t.api.v3)&&void 0!==i?i:t.api;try{return null===(n=(await a.music(`v1/catalog/{{storefrontId}}/songs/${e}/artists`)).data)||void 0===n?void 0:n.data}catch(o){}},_=async(t,e)=>{var i,n;const a=null!==(i=t.api.v3)&&void 0!==i?i:t.api;try{const t=await a.music(`v1/catalog/{{storefrontId}}/songs/${e}/albums`);return null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.data}catch(o){}};const w=class{constructor(e){t(this,e)}async componentWillLoad(){const{Events:t}=window.MusicKit;await d(this.el),this.musicKitListeners=m([[t.nowPlayingItemDidChange,this.onItemDidChange],[t.queueItemsDidChange,this.onItemDidChange],[t.timedMetadataDidChange,this.onTimedMetadataDidChange]],this.musicKit,this),await this.onItemDidChange()}disconnectedCallback(){u(this.musicKitListeners,this.musicKit)}async onTimedMetadataDidChange(t){this.timedMetadata=t;const e=this.timedMetadata.adamId;void 0!==e&&0!==e.length&&await this.setLinkMetadata(e)}async onItemDidChange(){this.timedMetadata=void 0;const{nowPlayingItem:t,queue:e}=this.musicKit;t&&!t.isLiveRadioStation?await this.setLinkMetadata(null==t?void 0:t.id):t||!e||(null==e?void 0:e.isEmpty)||await this.setLinkMetadata(this.firstQueueItem.id),o(this)}get artistName(){var t,e,i,n,a,o,r;const{timedMetadata:s,musicKit:l}=this;return null!==(r=null!==(n=null!==(t=null==s?void 0:s.performer)&&void 0!==t?t:null===(i=null===(e=null==l?void 0:l.nowPlayingItem)||void 0===e?void 0:e.attributes)||void 0===i?void 0:i.artistName)&&void 0!==n?n:null===(o=null===(a=this.firstQueueItem)||void 0===a?void 0:a.attributes)||void 0===o?void 0:o.artistName)&&void 0!==r?r:""}get albumName(){var t,e,i,n,a,o,r;const{timedMetadata:s,musicKit:l}=this;return null!==(r=null!==(n=null!==(t=null==s?void 0:s.album)&&void 0!==t?t:null===(i=null===(e=null==l?void 0:l.nowPlayingItem)||void 0===e?void 0:e.attributes)||void 0===i?void 0:i.albumName)&&void 0!==n?n:null===(o=null===(a=this.firstQueueItem)||void 0===a?void 0:a.attributes)||void 0===o?void 0:o.albumName)&&void 0!==r?r:""}get title(){var t,e,i,n,a;const{timedMetadata:o,musicKit:r}=this;return null!==(a=null!==(i=null!==(t=null==o?void 0:o.title)&&void 0!==t?t:null===(e=r.nowPlayingItem)||void 0===e?void 0:e.title)&&void 0!==i?i:null===(n=this.firstQueueItem)||void 0===n?void 0:n.title)&&void 0!==a?a:""}get firstQueueItem(){var t;const{queue:e}=this.musicKit;return null===(t=null==e?void 0:e.items)||void 0===t?void 0:t[0]}async setLinkMetadata(t){try{const e=await Promise.all([_(this.musicKit,t),y(this.musicKit,t)]);this.linkMetadata={albums:null==e?void 0:e[0],artists:null==e?void 0:e[1]}}catch(e){this.linkMetadata=void 0}}getPrimaryLineContent(){const{nowPlayingItem:t,queue:e}=this.musicKit;return t||e&&!(null==e?void 0:e.isEmpty)?[{text:this.title}]:[]}getSecondaryLineContent(){var t,e;const{nowPlayingItem:i,queue:n}=this.musicKit,a={text:" — "};if(!i&&(!n||(null==n?void 0:n.isEmpty)))return[];if(!(null===(t=this.linkMetadata)||void 0===t?void 0:t.artists)||!(null===(e=this.linkMetadata)||void 0===e?void 0:e.albums)){const t=[];return this.artistName&&t.push({text:this.artistName}),this.albumName&&(t.length>0&&t.push(a),t.push({text:this.albumName})),(null==i?void 0:i.isLiveRadioStation)&&(t.length>0&&t.push(a),t.push({text:i.title})),t}const o=g(this.linkMetadata.artists,h("MediaComponents.Common.ListDelimiter")),r=g(this.linkMetadata.albums,h("MediaComponents.Common.ListDelimiter"));return o.concat([a],r,(null==i?void 0:i.isLiveRadioStation)?[a,{text:i.title}]:[])}render(){const{nowPlayingItem:t}=this.musicKit;return e(i,null,e("div",{class:"lcd-meta"},e("div",{class:"lcd-meta__primary-wrapper"},e("amp-lcd-metadata-line",{class:"lcd-meta__primary",content:this.getPrimaryLineContent()}),(null==t?void 0:t.isExplicitItem)&&e("amp-icon",{class:"lcd-meta__icon",name:"explicit--small"}),this.contextualMenuConfig&&e("amp-contextual-menu-button",{config:this.contextualMenuConfig},e("div",{slot:"trigger-content"},e("amp-icon",{class:"lcd-meta__icon lcd-meta__icon--menu",name:"more-lcd"})))),e("amp-lcd-metadata-line",{class:"lcd-meta__secondary",content:this.getSecondaryLineContent()})))}get el(){return n(this)}};(function(t,e,i,n){var a,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(o<3?a(r):o>3?a(e,i,r):a(e,i))||r);o>3&&r&&Object.defineProperty(e,i,r)})([l()],w.prototype,"musicKit",void 0),w.style=".lcd-meta{max-width:100%;height:calc(var(--lcd-height, 44px) - 3px);display:flex;flex-direction:column;flex-grow:1;align-items:var(--lcd-justify-text, center);justify-content:center;overflow:hidden;position:relative;font-family:SF Pro Text, Helvetica Neue, Helvetica, Arial, sans-serif;font-size:12px;line-height:1.33337;letter-spacing:0}amp-lcd-metadata-line{max-width:100%}.lcd-meta__primary{font-weight:500;color:var(--lcd-primary-text-color, var(--labelPrimary))}.lcd-meta__primary-wrapper{max-width:100%;display:flex}.lcd-meta__primary-wrapper amp-lcd-metadata-line{min-width:0}.lcd-meta__secondary{min-height:16px;position:relative;font-weight:400;color:var(--lcd-secondary-text-color, var(--vibrantSecondary))}.lcd-meta__icon{width:16px;height:16px;color:var(--labelSecondary);margin-inline-start:2px}.lcd-meta__icon--menu{color:var(--musicKeyColor)}:host(.lcd__podcasts) .lcd-meta__icon--menu{color:var(--podcastKeyPrimary)}";const k=class{constructor(e){t(this,e),this.componentResized=a(this,"componentResized",7),this.hasValidatedLayoutConstraints=!1,this.isMarquee=!1}handleContentChange(){this.container.classList.remove("is-animating")}componentWillLoad(){this.playerState=new p(this)}componentDidLoad(){this.hasValidatedLayoutConstraints=!0}componentDidRender(){this.measureMarquee()}disconnectedCallback(){this.playerState.deactivate()}onComponentResize(){this.measureMarquee()}handleMouseOver(){this.measureMarquee()}measureMarquee(){var t,e,i,n;const a=null!==(e=null===(t=this.trackInfo)||void 0===t?void 0:t.getBoundingClientRect().width)&&void 0!==e?e:0,o=null!==(n=null===(i=this.textContent)||void 0===i?void 0:i.getBoundingClientRect().width)&&void 0!==n?n:0;this.isMarquee=o>0&&o>a,this.isMarquee&&(this.setElemWidth(this.textContent,this.scroller),setTimeout((()=>this.setAnimating(this.container)),3e3))}setElemWidth(t,e){var i;const n=null!==(i=null==t?void 0:t.getBoundingClientRect().width)&&void 0!==i?i:0;null==e||e.style.setProperty("--marquee-scroll-width",n+8)}removeAnimating(t){var e;null===(e=t.currentTarget)||void 0===e||e.classList.remove("is-animating")}setAnimating(t){(null==t?void 0:t.classList.contains("is-animating"))||(t.classList.add("is-animating"),t.addEventListener("animationend",this.removeAnimating,{once:!0}))}renderMetaLine(t){return t.map((t=>{const{text:i,url:n,target:a}=t;return void 0!==n?e("a",{class:"lcd-meta-line__fragment",href:n,target:null!=a?a:void 0},i):e("span",{class:"lcd-meta-line__fragment"},i)}))}render(){if(this.playerState.shouldRender())return e(i,{style:{"--marquee-line-padding":"8px"}},e("div",{ref:t=>this.trackInfo=t},e("div",{class:{"lcd-meta-line":!0,"is-marquee":this.isMarquee,"not-marquee":!this.isMarquee},ref:t=>this.container=t},e("div",{class:"lcd-meta-line__string-container"},e("div",{class:"lcd-meta-line__marquee-mask"},e("div",{ref:t=>this.scroller=t,class:"lcd-meta-line__marquee-scroller"},e("div",{class:"lcd-meta-line__scrolling-text-chunk"},e("span",{ref:t=>this.textContent=t},this.renderMetaLine(this.content))),e("div",{class:"lcd-meta-line__scrolling-text-chunk lcd-meta-line__scrolling-text-chunk--copy","aria-hidden":"true"},this.renderMetaLine(this.content))))))))}get el(){return n(this)}static get watchers(){return{content:["handleContentChange"]}}};k.style="@keyframes marquee{0%{transform:translateX(0)}100%{transform:translateX(calc(var(--marquee-scroll-width) * -1px))}}@keyframes marquee-rtl{0%{transform:translateX(0)}100%{transform:translateX(calc(var(--marquee-scroll-width) * 1px))}}@keyframes marquee-ltr-bidi{0%{transform:translateX(calc(var(--marquee-scroll-width) * -1px))}100%{transform:translateX(0)}}@keyframes marquee-rtl-bidi{0%{transform:translateX(calc(var(--marquee-scroll-width) * 1px))}100%{transform:translateX(0)}}@keyframes marquee-playing{0%{transform:translateX(0)}100%{transform:translateX(calc(var(--marquee-scroll-width) * -1px))}}@keyframes marquee-playing-rtl{0%{transform:translateX(0)}100%{transform:translateX(calc(var(--marquee-scroll-width) * 1px))}}@keyframes marquee-playing-ltr-bidi{0%{transform:translateX(calc(var(--marquee-scroll-width) * -1px))}100%{transform:translateX(0)}}@keyframes marquee-playing-rtl-bidi{0%{transform:translateX(calc(var(--marquee-scroll-width) * 1px))}100%{transform:translateX(0)}}@keyframes marquee-restarted{0%{transform:translateX(0)}100%{transform:translateX(calc(var(--marquee-scroll-width) * -1px))}}@keyframes marquee-restarted-rtl{0%{transform:translateX(0)}100%{transform:translateX(calc(var(--marquee-scroll-width) * 1px))}}@keyframes marquee-restarted-ltr-bidi{0%{transform:translateX(calc(var(--marquee-scroll-width) * -1px))}100%{transform:translateX(0)}}@keyframes marquee-restarted-rtl-bidi{0%{transform:translateX(calc(var(--marquee-scroll-width) * 1px))}100%{transform:translateX(0)}}@keyframes marquee-hover{0%{transform:translateX(0)}100%{transform:translateX(calc(var(--marquee-scroll-width) * -1px))}}@keyframes marquee-hover-rtl{0%{transform:translateX(0)}100%{transform:translateX(calc(var(--marquee-scroll-width) * 1px))}}@keyframes marquee-hover-ltr-bidi{0%{transform:translateX(calc(var(--marquee-scroll-width) * -1px))}100%{transform:translateX(0)}}@keyframes marquee-hover-rtl-bidi{0%{transform:translateX(calc(var(--marquee-scroll-width) * 1px))}100%{transform:translateX(0)}}.lcd-meta-line{width:100%;display:flex;box-sizing:border-box;flex-direction:row;align-items:center;justify-content:var(--lcd-justify-text, center);overflow:hidden;position:relative;text-align:var(--lcd-justify-text, center);text-overflow:none;white-space:nowrap}.lcd-meta-line.is-marquee{justify-content:flex-end}@media (max-width: 999px){.lcd-meta-line{justify-content:var(--lcd-justify-text, center);text-align:var(--lcd-justify-text, center)}.lcd-meta-line.not-marquee{padding:var(--lcd-line-padding, 0 10px)}}.hidden-text{opacity:0}.lcd-meta-line__fragment{color:inherit;text-decoration:none}a.lcd-meta-line__fragment:hover{text-decoration:underline}.lcd-meta-line__string-container{width:auto;min-width:0}.is-marquee .lcd-meta-line__string-container{padding:var(--lcd-line-padding, 0 10px)}.not-marquee .lcd-meta-line__string-container{padding-inline-end:0}.is-marquee .lcd-meta-line__scrolling-text-chunk{padding-inline-end:var(--marquee-line-padding)}.lcd-meta-line__scrolling-text-chunk--copy{opacity:0}.not-marquee .lcd-meta-line__scrolling-text-chunk--copy{display:none}.is-marquee.is-animating .lcd-meta-line__scrolling-text-chunk--copy{opacity:1}.is-marquee{padding-right:4px;flex-grow:1;flex-shrink:1}.lcd-meta-line__marquee-mask{width:100%;height:16px}:host([dir=rtl]) .lcd-meta-line__marquee-mask{direction:rtl}.is-marquee:not(.is-animating) .lcd-meta-line__marquee-mask{-webkit-mask:var(--stopped-marquee-mask);mask:var(--stopped-marquee-mask)}:host([dir=rtl]) .is-marquee:not(.is-animating) .lcd-meta-line__marquee-mask{-webkit-mask:var(--stopped-marquee-mask-rtl);mask:var(--stopped-marquee-mask-rtl)}.is-marquee.is-animating .lcd-meta-line__marquee-mask{-webkit-mask:var(--animated-marquee-mask);mask:var(--animated-marquee-mask)}.lcd-meta__secondary .is-marquee:not(.is-animating) .lcd-meta-line__marquee-mask{-webkit-mask:var(--secondary-mask-hover, var(--stopped-marquee-mask));mask:var(--secondary-mask-hover, var(--stopped-marquee-mask))}:host([dir=rtl]) .lcd-meta__secondary .is-marquee:not(.is-animating) .lcd-meta-line__marquee-mask{-webkit-mask:var(--secondary-mask-hover, var(--stopped-marquee-mask-rtl));mask:var(--secondary-mask-hover, var(--stopped-marquee-mask-rtl))}.lcd-meta__secondary .is-marquee.is-animating .lcd-meta-line__marquee-mask{-webkit-mask:var(--secondary-mask-hover, var(--animated-marquee-mask));mask:var(--secondary-mask-hover, var(--animated-marquee-mask))}.lcd-meta-line__marquee-scroller{display:grid;z-index:1}.is-marquee.is-animating .lcd-meta-line__marquee-scroller{animation-name:marquee;animation-duration:calc((var(--marquee-scroll-width) / 25) * 1.25s);animation-timing-function:linear;animation-delay:0s;animation-iteration-count:1;animation-fill-mode:forwards;will-change:transform}:host([dir=rtl]) .is-marquee.is-animating .lcd-meta-line__marquee-scroller{animation-name:marquee-rtl;}.is-marquee .lcd-meta-line__marquee-scroller{height:15px;grid-template-columns:auto 1fr}";var q,j=function(t,e,i,n){var a,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(o<3?a(r):o>3?a(e,i,r):a(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r};!function(t){t.previous="previous",t.next="next"}(q||(q={}));const C=class{constructor(e){t(this,e),this.isDisabled=!1}componentWillLoad(){const{Events:t}=window.MusicKit;this.boundEvents=m([[t.queueItemsDidChange,this.updateDisabled],[t.nowPlayingItemDidChange,this.updateDisabled]],this.musicKit,this),this.updateDisabled()}disconnectedCallback(){u(this.boundEvents,this.musicKit)}toggleNavigation(){if(!this.isDisabled)return this.direction===q.next?this.musicKit.skipToNextItem():this.musicKit.currentPlaybackTime>=4?this.musicKit.seekToTime(0):this.musicKit.skipToPreviousItem()}updateDisabled(){const{queue:t,nowPlayingItem:e}=this.musicKit;this.isDisabled=!t||!e||0===t.length||e.isLiveRadioStation}renderButtonContent(){return h(this.direction===q.previous?"MediaComponents.Playback.Previous":"MediaComponents.Playback.Next")}render(){return e(i,{class:{[this.direction]:!0}},e("button",{class:{[`button--${this.direction}`]:!0},disabled:this.isDisabled},e("amp-icon",{name:"player-next"}),e("span",{class:"button__label"},this.renderButtonContent())))}get el(){return n(this)}};j([l()],C.prototype,"musicKit",void 0),j([r],C.prototype,"el",void 0),C.style=":host{width:32px;height:28px;display:flex;flex:0 0 auto;align-items:stretch;justify-content:stretch}button{margin:0;padding:0;display:inline-block;border:0;background-color:transparent;outline:none;cursor:pointer;-webkit-appearance:none;appearance:none;font-family:inherit;font-size:inherit;line-height:inherit;width:100%;height:100%;color:var(--vibrantPrimary);background-position:center;background-size:contain;transition:color 0.2s ease-out}button::-moz-focus-inner{border:0}button:disabled{color:var(--vibrantTertiary)}button[data-focus-method=key]:focus{outline:2px solid currentColor;outline-offset:2px}button amp-icon{width:100%;height:100%}:host([data-theme*=video]) button amp-icon{color:rgba(255, 255, 255, 0.9)}.button--previous{transform:rotate(180deg)}.button__label{width:0;height:0;overflow:hidden;clip:rect(0, 0, 0, 0);position:absolute}";const X=class{constructor(e){t(this,e),this.repeatMode=window.MusicKit.PlayerRepeatMode.none,this.isDisabled=!1}componentWillLoad(){const{Events:t}=window.MusicKit;this.musicKit=c(),this.boundEvents=m([[t.repeatModeDidChange,this.updateState],[t.queueItemsDidChange,this.updateState]],this.musicKit,this),this.updateState(),this.cycleRepeat=this.cycleRepeat.bind(this)}disconnectedCallback(){u(this.boundEvents,this.musicKit)}cycleRepeat(){const t=this.musicKit.repeatMode,{PlayerRepeatMode:e}=window.MusicKit;this.musicKit.repeatMode=t===e.none?e.one:t===e.one?e.all:e.none}updateState(){const{queue:t,repeatMode:e}=this.musicKit;this.repeatMode=e,this.isDisabled=!t||0===t.length}renderClass(){return`button--repeat mode--${this.repeatMode}`}render(){const{PlayerRepeatMode:t}=window.MusicKit,n="player-repeat"+(this.repeatMode===t.one?"-1":"");return e(i,null,e("button",{onClick:this.cycleRepeat,class:this.renderClass(),disabled:this.isDisabled},h("MediaComponents.Playback.Repeat"),e("amp-icon",{name:n})))}get el(){return n(this)}};(function(t,e,i,n){var a,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(o<3?a(r):o>3?a(e,i,r):a(e,i))||r);o>3&&r&&Object.defineProperty(e,i,r)})([r],X.prototype,"el",void 0),X.style=":host{width:32px;height:28px;display:flex;flex:0 0 auto;align-items:stretch;justify-content:stretch}button{width:100%;height:100%;transition:color 0.2s ease-out}button[data-focus-method=key]:focus{outline:2px solid currentColor;outline-offset:2px}.button--repeat{margin:0;padding:0;display:inline-block;border:0;background-color:transparent;outline:none;cursor:pointer;-webkit-appearance:none;appearance:none;font-family:inherit;font-size:inherit;line-height:inherit;font-size:0;color:var(--vibrantSecondary);cursor:pointer}.button--repeat::-moz-focus-inner{border:0}.button--repeat:hover,.button--repeat:focus{color:var(--vibrantPrimary)}.button--repeat:disabled{color:var(--vibrantQuaternary)}.button--repeat:enabled:active,.button--repeat.button--repeat.mode--1,.button--repeat.button--repeat.mode--2{color:var(--musicKeyColor)}.button--repeat amp-icon{width:100%;height:100%}";const M=class{constructor(e){t(this,e),this.isShuffled=!1,this.isDisabled=!1}componentWillLoad(){const{Events:t}=window.MusicKit;this.musicKit=c(),this.boundEvents=m([[t.shuffleModeDidChange,this.updateState],[t.queueItemsDidChange,this.updateState]],this.musicKit,this),this.updateState(),this.toggleShuffle=this.toggleShuffle.bind(this)}disconnectedCallback(){u(this.boundEvents,this.musicKit)}toggleShuffle(){this.musicKit.shuffleMode=this.musicKit.shuffleMode>0?0:1}updateState(){const{shuffleMode:t,queue:e}=this.musicKit;this.isShuffled=t>0,this.isDisabled=!e||0===e.length}renderClass(){return"button--shuffle "+(this.isShuffled?"shuffled":"")}render(){return e(i,null,e("button",{onClick:this.toggleShuffle,class:this.renderClass(),disabled:this.isDisabled},h("MediaComponents.Playback.Shuffle"),e("amp-icon",{name:"player-shuffle"})))}get el(){return n(this)}};(function(t,e,i,n){var a,o=arguments.length,r=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(o<3?a(r):o>3?a(e,i,r):a(e,i))||r);o>3&&r&&Object.defineProperty(e,i,r)})([r],M.prototype,"el",void 0),M.style=":host{width:32px;height:28px;display:flex;flex:0 0 auto;align-items:stretch;justify-content:stretch}button{width:100%;height:100%;transition:color 0.2s ease-out}button[data-focus-method=key]:focus{outline:2px solid currentColor;outline-offset:2px}.button--shuffle{margin:0;padding:0;display:inline-block;border:0;background-color:transparent;outline:none;cursor:pointer;-webkit-appearance:none;appearance:none;font-family:inherit;font-size:inherit;line-height:inherit;font-size:0;color:var(--vibrantSecondary)}.button--shuffle::-moz-focus-inner{border:0}.button--shuffle:enabled{cursor:pointer}.button--shuffle:hover,.button--shuffle:focus{color:var(--vibrantPrimary)}.button--shuffle:disabled{color:var(--vibrantQuaternary)}.button--shuffle:enabled:active,.button--shuffle.shuffled{color:var(--musicKeyColor)}.button--shuffle amp-icon{width:100%;height:100%}";export{f as amp_contextual_menu,x as amp_contextual_menu_button,w as amp_lcd_metadata,k as amp_lcd_metadata_line,C as amp_playback_controls_item_skip,X as amp_playback_controls_repeat,M as amp_playback_controls_shuffle}