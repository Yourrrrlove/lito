const t={square:{sizes:[{height:230,width:230},{height:460,width:460},{height:690,width:690}],shadow:{width:230,height:230},fallback:{width:230,height:230}},squareMini:{sizes:[{height:54,width:54},{height:108,width:108},{height:690,width:690}],shadow:{width:54,height:54},fallback:{width:54,height:54}},upNext:{sizes:[{width:456,height:256},{width:228,height:128}]},videoPoster:{sizes:[{width:320,height:180},{width:640,height:360},{width:960,height:540},{width:1280,height:720},{width:1920,height:1080}]},radioLockup:{sizes:[{width:450,height:258},{width:600,height:344},{width:530,height:304},{width:900,height:516},{width:1200,height:688}]}},i=/^({w}|[0-9]+)x({h}|[0-9]+)({c}|[a-zA-Z]+)/,h=(t="",h)=>{let{crop:e,quality:s}=h;const d=h.density||1,r=h.fileType||"jpg",o=t.split("/"),w=o.pop(),a=w.match(i),c=a?a.pop():void 0;if(c&&"{c}"!==c){e=h.crop||c;const s=w.replace(i,"$1x$2{c}");t=`${o.join("/")}/${s}`}const n=/(-\{q\})/.test(t);return h.quality&&!n?t=t.replace(/(-[0-9]+)?\.\{f\}$/,((t,i)=>(s=h.quality||i.replace("-",""),"-{q}.{f}"))):!h.hasOwnProperty("quality")&&n&&(t=t.replace("-{q}","")),t.replace("{w}",h.width*d).replace("{h}",Math.ceil(h.height*d)).replace("{c}",e).replace("{q}",s).replace("{f}",r)},e=(t,i)=>a(t,i,"shadow"),s=(t,i)=>a(t,i,"fallback"),d=(t,i)=>{const e=c(i),s=n(e);return e.sizes.reduce(((i,d)=>{const r=Object.assign(Object.assign({},s),d);return i.push(`${h(t,r)} ${d.width/e.sizes[0].width}x`),i}),[]).join(", ")},r=(t,i)=>{if(void 0!==t)return[1,2,3].reduce(((e,s)=>(e.push(`${h(t,Object.assign(Object.assign({},i),{width:i.width*s,height:i.height*s}))} ${s}x`),e)),[]).join(", ")},o=(t,i,e={})=>c(i).sizes.reduce(((i,s,d,r)=>{const o=d===r.length-1;return`${i}${h(t,Object.assign(Object.assign({},s),e))} ${s.width}w${o?"":", "}`}),""),w=t=>c(t).sizes.reduce(((t,i,h,e)=>{const s=i.width;return`${t}${0===h?`(max-width:${s}px) ${s}px, `:h===e.length-1?`${s}px`:`(min-width:${e[h-1].width+1}px) and (max-width:${s}px) ${s}px, `}`}),""),a=(t,i,e)=>{const s=c(i);if(!s.hasOwnProperty(e))throw new Error(`Requested ${e} profile for ${i} but profile does not have a ${e} size specified in /utils/artwork-profiles`);const d=Object.assign(n(s),s[e]);return h(t,d)},c=i=>{const h=t[i];if(!h)throw new Error(`Requested profile ${i} but it is not defined in /utils/artwork-profiles`);return h},n=t=>{const i=Object.assign({},t);return delete i.sizes,i};export{d as a,s as b,e as c,w as d,r as e,o as g,h as p}